# Copyright 2025 Gentoo Authors
# Distributed under the terms of the GNU General Public License v2

EAPI=8

CRATES="
	addr2line@0.24.2
	adler2@2.0.0
	ahash@0.8.11
	anyhow@1.0.96
	autocfg@1.4.0
	backtrace-on-stack-overflow@0.3.0
	backtrace@0.3.74
	bitflags@1.3.2
	bitflags@2.8.0
	bumpalo@3.17.0
	byteorder@1.5.0
	cc@1.2.15
	cfg-if@1.0.0
	crunchy@0.2.3
	derive_more-impl@1.0.0
	derive_more@1.0.0
	displaydoc@0.2.5
	either@1.13.0
	els@0.1.65-nightly.5
	equivalent@1.0.2
	erg_common@0.6.53-nightly.5
	erg_compiler@0.6.53-nightly.5
	erg_parser@0.6.53-nightly.5
	erg_proc_macros@0.6.53-nightly.5
	form_urlencoded@1.2.1
	getopts@0.2.21
	getrandom@0.2.15
	gimli@0.31.1
	glob@0.3.2
	hashbrown@0.14.5
	hashbrown@0.15.2
	heck@0.5.0
	icu_collections@1.5.0
	icu_locid@1.5.0
	icu_locid_transform@1.5.0
	icu_locid_transform_data@1.5.0
	icu_normalizer@1.5.0
	icu_normalizer_data@1.5.0
	icu_properties@1.5.1
	icu_properties_data@1.5.0
	icu_provider@1.5.0
	icu_provider_macros@1.5.0
	idna@1.0.3
	idna_adapter@1.2.0
	indexmap@2.7.1
	is-macro@0.3.7
	itertools@0.11.0
	itoa@1.0.14
	lalrpop-util@0.20.2
	libc@0.2.169
	libm@0.2.11
	litemap@0.7.4
	lock_api@0.4.12
	log@0.4.26
	lsp-types@0.93.2
	malachite-base@0.4.22
	malachite-bigint@0.2.3
	malachite-nz@0.4.22
	malachite-q@0.4.22
	malachite@0.4.22
	memchr@2.7.4
	memoffset@0.6.5
	miniz_oxide@0.8.5
	molc@0.3.0
	nix@0.23.2
	num-integer@0.1.46
	num-traits@0.2.19
	object@0.36.7
	once_cell@1.20.3
	parking_lot@0.12.3
	parking_lot_core@0.9.10
	paste@1.0.15
	percent-encoding@2.3.1
	phf@0.11.3
	phf_codegen@0.11.3
	phf_generator@0.11.3
	phf_shared@0.11.3
	ppv-lite86@0.2.20
	proc-macro2@1.0.93
	quote@1.0.38
	rand@0.8.5
	rand_chacha@0.3.1
	rand_core@0.6.4
	redox_syscall@0.5.9
	rustc-demangle@0.1.24
	rustc-hash@1.1.0
	rustversion@1.0.19
	ryu@1.0.19
	scopeguard@1.2.0
	serde@1.0.218
	serde_derive@1.0.218
	serde_json@1.0.139
	serde_repr@0.1.19
	shlex@1.3.0
	siphasher@1.0.1
	smallvec@1.14.0
	stable_deref_trait@1.2.0
	static_assertions@1.1.0
	syn@1.0.109
	syn@2.0.98
	synstructure@0.13.1
	thread_local@1.1.8
	tiny-keccak@2.0.2
	tinystr@0.7.6
	unic-char-property@0.9.0
	unic-char-range@0.9.0
	unic-common@0.9.0
	unic-emoji-char@0.9.0
	unic-ucd-ident@0.9.0
	unic-ucd-version@0.9.0
	unicode-ident@1.0.17
	unicode-width@0.1.14
	unicode-xid@0.2.6
	unicode_names2@1.3.0
	unicode_names2_generator@1.3.0
	url@2.5.4
	utf16_iter@1.0.5
	utf8_iter@1.0.4
	version_check@0.9.5
	w-boson@0.1.0
	wasi@0.11.0+wasi-snapshot-preview1
	wasm-bindgen-backend@0.2.100
	wasm-bindgen-macro-support@0.2.100
	wasm-bindgen-macro@0.2.100
	wasm-bindgen-shared@0.2.100
	wasm-bindgen@0.2.100
	windows-core@0.58.0
	windows-implement@0.58.0
	windows-interface@0.58.0
	windows-result@0.2.0
	windows-strings@0.1.0
	windows-targets@0.52.6
	windows@0.58.0
	windows_aarch64_gnullvm@0.52.6
	windows_aarch64_msvc@0.52.6
	windows_i686_gnu@0.52.6
	windows_i686_gnullvm@0.52.6
	windows_i686_msvc@0.52.6
	windows_x86_64_gnu@0.52.6
	windows_x86_64_gnullvm@0.52.6
	windows_x86_64_msvc@0.52.6
	write16@1.0.0
	writeable@0.5.5
	yoke-derive@0.7.5
	yoke@0.7.5
	zerocopy-derive@0.7.35
	zerocopy@0.7.35
	zerofrom-derive@0.1.5
	zerofrom@0.1.5
	zerovec-derive@0.10.3
	zerovec@0.10.4
"

declare -A GIT_CRATES=(
	[rustpython-ast]='https://github.com/RustPython/Parser;d2f137b372ec08ce4a243564a80f8f9153c45a23;Parser-%commit%/ast'
	[rustpython-parser-core]='https://github.com/RustPython/Parser;d2f137b372ec08ce4a243564a80f8f9153c45a23;Parser-%commit%/core'
	[rustpython-parser-vendored]='https://github.com/RustPython/Parser;d2f137b372ec08ce4a243564a80f8f9153c45a23;Parser-%commit%/vendored'
	[rustpython-parser]='https://github.com/RustPython/Parser;d2f137b372ec08ce4a243564a80f8f9153c45a23;Parser-%commit%/parser'
)

inherit cargo

DESCRIPTION="A static code analyzer & language server for Python"
HOMEPAGE="https://github.com/mtshiba/pylyzer"
SRC_URI="
	${CARGO_CRATE_URIS}
	https://github.com/mtshiba/${PN}/archive/refs/tags/v${PV}.tar.gz -> ${P}.tar.gz
"

LICENSE="MIT"
# Dependent crate licenses
LICENSE+=" Apache-2.0 CC0-1.0 LGPL-3 MIT Unicode-3.0 Unicode-DFS-2016"

SLOT="0"
KEYWORDS="~amd64"
